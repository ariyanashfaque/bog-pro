<app-header
  [headerTitle]="sapId ? 'Update' : 'Add New'"
  [isDefaultHref]="true"
></app-header>

<ion-content [fullscreen]="true" color="background">
  <ion-grid class="ion-padding">
    <ion-row class="ion-justify-content-center">
      <ion-col size="12" sizeLg="12" sizeMd="12" sizeSm="12">
        <form [formGroup]="sapRegistrationForm">
          <div
            class="max-w-full mx-auto p-4 bg-white border-b-[2px] shadow-[0px_0px_6px_0px_#0000002E]"
          >
            <ion-grid>
              <ion-row class="ion-align-items-center">
                <ion-col size="12" sizeMd="12" class="">
                  <ion-select
                    type="text"
                    fill="outline"
                    label="Select GRU"
                    labelPlacement="floating"
                    interface="popover"
                    formControlName="gruName"
                    errorText="GRU name required"
                    (ionChange)="onGRUSelectionChange($event)"
                  >
                    <ion-select-option value="bangladesh"
                      >Bangladesh</ion-select-option
                    >
                  </ion-select>
                  @if (isGRUActive()) {
                  <p class="text-red-700 text-sm font-bold">
                    GRU is already active.
                  </p>
                  }
                </ion-col>
                <ion-col size="4" sizeMd="4" class="my-2">
                  <ion-select
                    type="text"
                    fill="outline"
                    label="Status"
                    labelPlacement="floating"
                    interface="popover"
                    formControlName="gruStatus"
                    errorText="Status required"
                  >
                    <ion-select-option value="active">Active</ion-select-option>
                    <ion-select-option value="inactive"
                      >Inactive</ion-select-option
                    >
                  </ion-select>
                </ion-col>
                <ion-col size="4" sizeMd="4" class="my-2">
                  <ion-select
                    type="text"
                    fill="outline"
                    label="Sync type"
                    labelPlacement="floating"
                    interface="popover"
                    formControlName="syncType"
                    errorText="Sync Type required"
                  >
                    <ion-select-option value="push">Push</ion-select-option>
                    <ion-select-option value="pull">Pull</ion-select-option>
                  </ion-select>
                </ion-col>
                <ion-col size="4" sizeMd="4" class="my-2">
                  <ion-select
                    type="text"
                    fill="outline"
                    label="API protocol"
                    labelPlacement="floating"
                    interface="popover"
                    formControlName="protocol"
                    errorText="Protocol required"
                  >
                    <ion-select-option value="rest">Rest</ion-select-option>
                    <ion-select-option value="soap">Soap</ion-select-option>
                  </ion-select>
                </ion-col>
              </ion-row>
            </ion-grid>
          </div>
          <div
            class="max-w-full mx-auto p-4 bg-[#EDF5F5] border-b-[2px] shadow-[0px_0px_6px_0px_#0000002E]"
          >
            <div class="text-[#007382] text-[20px] font-bold">
              Field mapping
            </div>
            <ion-grid class="py-2">
              <ion-row>
                <ion-col
                  size="4"
                  class="bg-[#007382] px-4 py-2 text-wrap text-white border border-l-0 border-[##D1EDF0]"
                  >Data field name</ion-col
                >
                <ion-col
                  size="8"
                  class="bg-[#007382] px-4 py-2 text-wrap text-white border border-[##D1EDF0]"
                  >Description</ion-col
                >
              </ion-row>
              <!-- @for (field of fields; track $index) { -->
              <ion-row>
                <ion-col
                  size="4"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] bg-[#F9F9F9]"
                  >Sap Id</ion-col
                >
                <ion-col
                  size="8"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] border-l-0 bg-[#F9F9F9]"
                >
                  <input
                    type="text"
                    [formControlName]="'sapId'"
                    class="bg-white w-full py-1 px-2 focus:border-[#007382] border border-[#007382] focus:outline-none ring-1 focus:ring-[#007382] focus:ring-opacity-50"
                  />
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col
                  size="4"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] bg-[#F9F9F9]"
                  >Location Code</ion-col
                >
                <ion-col
                  size="8"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] border-l-0 bg-[#F9F9F9]"
                >
                  <input
                    type="text"
                    [formControlName]="'locationCode'"
                    class="bg-white w-full py-1 px-2 focus:border-[#007382] border border-[#007382] focus:outline-none ring-1 focus:ring-[#007382] focus:ring-opacity-50"
                  />
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col
                  size="4"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] bg-[#F9F9F9]"
                  >Location</ion-col
                >
                <ion-col
                  size="8"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] border-l-0 bg-[#F9F9F9]"
                >
                  <input
                    type="text"
                    [formControlName]="'location'"
                    class="bg-white w-full py-1 px-2 focus:border-[#007382] border border-[#007382] focus:outline-none ring-1 focus:ring-[#007382] focus:ring-opacity-50"
                  />
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col
                  size="4"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] bg-[#F9F9F9]"
                  >Functional Location Code</ion-col
                >
                <ion-col
                  size="8"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] border-l-0 bg-[#F9F9F9]"
                >
                  <input
                    type="text"
                    [formControlName]="'functionalLocationCode'"
                    class="bg-white w-full py-1 px-2 focus:border-[#007382] border border-[#007382] focus:outline-none ring-1 focus:ring-[#007382] focus:ring-opacity-50"
                  />
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col
                  size="4"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] bg-[#F9F9F9]"
                  >Functional Location Description</ion-col
                >
                <ion-col
                  size="8"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] border-l-0 bg-[#F9F9F9]"
                >
                  <input
                    type="text"
                    [formControlName]="'functionalLocationDescription'"
                    class="bg-white w-full py-1 px-2 focus:border-[#007382] border border-[#007382] focus:outline-none ring-1 focus:ring-[#007382] focus:ring-opacity-50"
                  />
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col
                  size="4"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] bg-[#F9F9F9]"
                  >Costcenter Code</ion-col
                >
                <ion-col
                  size="8"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] border-l-0 bg-[#F9F9F9]"
                >
                  <input
                    type="text"
                    [formControlName]="'costCenterCode'"
                    class="bg-white w-full py-1 px-2 focus:border-[#007382] border border-[#007382] focus:outline-none ring-1 focus:ring-[#007382] focus:ring-opacity-50"
                  />
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col
                  size="4"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] bg-[#F9F9F9]"
                  >Costcenter Description</ion-col
                >
                <ion-col
                  size="8"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] border-l-0 bg-[#F9F9F9]"
                >
                  <input
                    type="text"
                    [formControlName]="'costCenterDescription'"
                    class="bg-white w-full py-1 px-2 focus:border-[#007382] border border-[#007382] focus:outline-none ring-1 focus:ring-[#007382] focus:ring-opacity-50"
                  />
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col
                  size="4"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] bg-[#F9F9F9]"
                  >Hierarchy Area Code</ion-col
                >
                <ion-col
                  size="8"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] border-l-0 bg-[#F9F9F9]"
                >
                  <input
                    type="text"
                    [formControlName]="'hierarchyAreaCode'"
                    class="bg-white w-full py-1 px-2 focus:border-[#007382] border border-[#007382] focus:outline-none ring-1 focus:ring-[#007382] focus:ring-opacity-50"
                  />
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col
                  size="4"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] bg-[#F9F9F9]"
                  >Hierarchy Area Description</ion-col
                >
                <ion-col
                  size="8"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] border-l-0 bg-[#F9F9F9]"
                >
                  <input
                    type="text"
                    [formControlName]="'hierarchyAreaDescription'"
                    class="bg-white w-full py-1 px-2 focus:border-[#007382] border border-[#007382] focus:outline-none ring-1 focus:ring-[#007382] focus:ring-opacity-50"
                  />
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col
                  size="4"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] bg-[#F9F9F9]"
                  >Name</ion-col
                >
                <ion-col
                  size="8"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] border-l-0 bg-[#F9F9F9]"
                >
                  <input
                    type="text"
                    [formControlName]="'name'"
                    class="bg-white w-full py-1 px-2 focus:border-[#007382] border border-[#007382] focus:outline-none ring-1 focus:ring-[#007382] focus:ring-opacity-50"
                  />
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col
                  size="4"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] bg-[#F9F9F9]"
                  >Status</ion-col
                >
                <ion-col
                  size="8"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] border-l-0 bg-[#F9F9F9]"
                >
                  <input
                    type="text"
                    [formControlName]="'status'"
                    class="bg-white w-full py-1 px-2 focus:border-[#007382] border border-[#007382] focus:outline-none ring-1 focus:ring-[#007382] focus:ring-opacity-50"
                  />
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col
                  size="4"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] bg-[#F9F9F9]"
                  >Asset Type</ion-col
                >
                <ion-col
                  size="8"
                  class="px-4 py-2 text-wrap border-2 border-[#0073825C] border-l-0 bg-[#F9F9F9]"
                >
                  <input
                    type="text"
                    [formControlName]="'assetType'"
                    class="bg-white w-full py-1 px-2 focus:border-[#007382] border border-[#007382] focus:outline-none ring-1 focus:ring-[#007382] focus:ring-opacity-50"
                  />
                </ion-col>
              </ion-row>
              <!-- } -->
            </ion-grid>
            <!-- <div class="py-2">
              <div class="text-[#007382] text-[20px] font-bold">
                XML file Upload
              </div>
              <div class="py-2">
                <ion-input
                  label="Enter XML file URL"
                  labelPlacement="floating"
                  fill="outline"
                  style="border-color: #007382"
                  class="xml-input"
                ></ion-input>
              </div>
              <div class="text-[#007382] text-sm font-bold text-center py-1">
                OR
              </div>
              <div class="py-2 flex items-center justify-center">
                <ion-button>
                  <ion-icon
                    slot="end"
                    name="document-attach-outline"
                  ></ion-icon>
                  <span class="py-2"> Upload .wsdl document</span>
                </ion-button>
              </div>
            </div> -->
          </div>
        </form>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
<ion-footer>
  <ion-toolbar color="primary">
    <ion-buttons class="w-full" slot="start">
      <ion-button
        class="w-full"
        color="textwhite"
        expand="full"
        [routerLink]="['/sap-configuration']"
      >
        Cancel
      </ion-button>

      <ion-button
        expand="full"
        class="w-full"
        color="textwhite"
        (click)="saveSapConfig()"
        [disabled]="isGRUActive()"
      >
        Save
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
