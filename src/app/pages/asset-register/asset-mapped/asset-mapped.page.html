<app-header headerTitle="Asset Mapped" [isDefaultHref]="true"></app-header>

<ion-content [fullscreen]="true" color="background">
  <ion-grid>
    <ion-row>
      <ion-col size="12">
        <ion-header class="rounded-t-md">
          <ion-toolbar>
            <div class="font-[24px] font-gotham_medium p-4">
              Assets (6)
            </div>
          </ion-toolbar>
        </ion-header>
        <div
          class="max-w-full mx-auto rounded-b-md bg-white p-4 shadow-[0px_0px_6px_0px_#0000002E]"
        >
          <ion-label></ion-label>
          @defer (when !isLoading()) {
            @for (groupedAsset of groupedAssets; track $index) {
              <ion-col size="12" sizeMd="6" sizeLg="6">
                <ion-accordion-group
                  [multiple]="true"
                  [value]="[groupedAsset.assetParentType]"
                >
                  <ion-accordion value="Silo">
                    <ion-item color="accordion" class="p-3" slot="header">
                      <!-- <ion-icon
                        size="large"
                        class="p-4 -ml-2"
                        src="../../../assets/icon/asset-icons/silo.png"
                      >
                      </ion-icon> -->

                      <ion-text class="flex gap-1">
                        <p class="text-[20px] font-gotham_medium">
                          {{ groupedAsset?.assetParentType }}
                        </p>
                        <span class="text-[20px] font-gotham-book"
                          >({{ groupedAsset?.assets?.length }} assets)</span
                        >
                      </ion-text>
                    </ion-item>
                    <div
                      slot="content"
                      class="border-x-2 p-2 border-b-2 rounded-b-lg borderColor sm:grid md:grid md:grid-cols-2 md:gap-2 sm:gap-2"
                    >
                      @for (asset of groupedAsset.assets; track $index) {
                        <app-asset-mapped-card [asset]="asset">
                        </app-asset-mapped-card>
                      }
                    </div>
                  </ion-accordion>
                </ion-accordion-group>
              </ion-col>
            } @empty {
              @if (!isLoading()) {
                <ion-col size="12">
                  <div
                    class="max-w-full mx-auto rounded-md bg-white p-4 shadow-[0px_0px_6px_0px_#0000002E]"
                  >
                    <h3 class="text-center">No assets found</h3>
                  </div>
                </ion-col>
              }
            }
          } @placeholder {
            <ion-col size="12" sizeMd="6" sizeLg="6">
              <app-loading-skeleton></app-loading-skeleton>
            </ion-col>
            <ion-col size="12" sizeMd="6" sizeLg="6">
              <app-loading-skeleton></app-loading-skeleton>
            </ion-col>
          }
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
