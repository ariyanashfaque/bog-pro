<div
  class="fixed w-7/12 left-0 top-0 h-screen shadow-lg bg-transparent transform transition-transform duration-800 z-10"
  [class]="!isMenuOpen ? '-translate-x-full' : ''"
>
  <div class="text-black w-full h-full px-5 pt-20 pb-5 bg-[#f5feff]">
    <!-- Your Content -->
    <div
      class="h-full w-full rounded-t-md bg-white shadow-[0px_0px_6px_1px_#00000024] flex flex-col justify-between"
    >
      <!-- Top Part -->
      <div class="w-full py-5 border-b-[2px]">
        <ion-segment
          class="pb-2"
          [value]="segment"
          [scrollable]="true"
          (ionChange)="handleChange($event)"
        >
          @if (categories) {
            <ion-segment-button value="info">
              <div
                class="segment-change ion-justify-content-center rounded-full"
              >
                <ion-icon
                  color="primary"
                  class="p-4 h-[32px] w-[32px] image"
                  src="../../../../../assets/segment-icons/info1.svg"
                ></ion-icon>
                <ion-text
                  color="textwhite"
                  class="ion-text-center hidden-content"
                >
                  Info
                </ion-text>
              </div>
            </ion-segment-button>
          }
          @for (assetCategory of categories; track $index) {
            @if (assetCategory?.isSelected) {
              <ion-segment-button [value]="assetCategory?.categoryType">
                <div class="backg">
                  <div
                    class="segment-change ion-justify-content-center rounded-full"
                  >
                    @switch (true) {
                      @case (assetCategory?.categoryType === "sim") {
                        <ion-icon
                          class="p-4 h-[32px] w-[32px] image"
                          src="../../../../assets/segment-icons/sim.svg"
                        ></ion-icon>
                      }
                      @case (assetCategory?.categoryType === "quarry") {
                        <ion-icon
                          class="p-4 h-[32px] w-[32px] image"
                          src="../../../../assets/segment-icons/query.svg"
                        ></ion-icon>
                      }
                      @case (assetCategory?.categoryType === "insurance") {
                        <ion-icon
                          class="p-4 h-[32px] w-[32px] image"
                          src="../../../../assets/segment-icons/insurance.svg"
                        ></ion-icon>
                      }
                      @case (assetCategory?.categoryType === "electrical") {
                        <ion-icon
                          class="p-4 h-[32px] w-[32px] image"
                          src="../../../../assets/segment-icons/electrical.svg"
                        ></ion-icon>
                      }
                      @case (assetCategory?.categoryType === "environment") {
                        <ion-icon
                          class="p-4 h-[32px] w-[32px] image"
                          src="../../../../assets/segment-icons/environment.svg"
                        ></ion-icon>
                      }
                      @case (assetCategory?.categoryType === "hotMaterial") {
                        <ion-icon
                          class="p-4 h-[32px] w-[32px] image"
                          src="../../../../assets/segment-icons/hotMaterial.svg"
                        ></ion-icon>
                      }
                      @case (assetCategory?.categoryType === "fireProtection") {
                        <ion-icon
                          class="p-4 h-[32px] w-[32px] image"
                          src="../../../../assets/segment-icons/fireProtection.svg"
                        ></ion-icon>
                      }
                      @case (
                        assetCategory?.categoryType === "materialManagement"
                      ) {
                        <ion-icon
                          class="p-4 h-[32px] w-[32px] image"
                          src="../../../../assets/segment-icons/materialManagement.svg"
                        ></ion-icon>
                      }
                    }
                    <ion-text
                      color="textwhite"
                      class="ion-text-center hidden-content"
                    >
                      {{ assetCategory?.categoryTitle }}
                    </ion-text>
                  </div>
                </div>
              </ion-segment-button>
            }
          }
        </ion-segment>
      </div>
      <!-- ------------ -->
      <!-- Middle Part -->
      <div class="w-full h-[calc(100%-64px)] mb-4 bg-white overflow-y-scroll">
        <!-- form section -->
        <div class="max-w-full mx-auto">
          @switch (segment) {
            @case ("info") {
              <ion-grid class="m-2">
                <form [formGroup]="assetRegistrationForm">
                  <ion-row class="">
                    <ion-col size="12">
                      <ion-input
                        required
                        fill="outline"
                        color="primary"
                        inputmode="text"
                        placeholder="Hopper is situated near the walkway"
                        labelPlacement="floating"
                        formControlName="assetName"
                        errorText="Asset name required"
                      >
                        <ion-label slot="label">
                          Enter name
                          <ion-text color="danger">*</ion-text>
                        </ion-label>
                      </ion-input>
                    </ion-col>

                    <ion-col size="4">
                      <ion-input
                        required
                        type="text"
                        fill="outline"
                        placeholder="Asset ID"
                        formControlName="assetId"
                        labelPlacement="floating"
                      >
                        <ion-label slot="label">Asset ID</ion-label>
                      </ion-input>
                    </ion-col>

                    <ion-col size="4">
                      <ion-input
                        type="text"
                        fill="outline"
                        formControlName="sapId"
                        labelPlacement="floating"
                        placeholder="125152"
                      >
                        <ion-label slot="label">SAP ID</ion-label>
                      </ion-input>
                    </ion-col>
                    <ion-col size="4">
                      <ion-input
                        type="text"
                        fill="outline"
                        formControlName="hacCode"
                        labelPlacement="floating"
                        placeholder="125152"
                      >
                        <ion-label slot="label">HAC code</ion-label>
                      </ion-input>
                    </ion-col>

                    <ion-col size="6">
                      <ion-select
                        fill="outline"
                        label="Status"
                        label-placement="floating"
                        interface="popover"
                      >
                        <ion-select-option value="apple">
                          asset approved
                        </ion-select-option>
                        <ion-select-option value="banana">
                          asset draft
                        </ion-select-option>
                        <ion-select-option value="orange">
                          asset decomision
                        </ion-select-option>
                      </ion-select>
                    </ion-col>
                    <ion-col size="6">
                      <ion-select
                        fill="outline"
                        label="Cost Center"
                        label-placement="floating"
                        interface="popover"
                      >
                        <ion-select-option value="apple">
                          asset approved
                        </ion-select-option>
                        <ion-select-option value="banana">
                          asset draft
                        </ion-select-option>
                        <ion-select-option value="orange">
                          asset decomision
                        </ion-select-option>
                      </ion-select>
                    </ion-col>
                  </ion-row>
                </form>
              </ion-grid>
            }
            @case ("sim") {
              <ion-grid>
                <ion-row>
                  <ion-col size="12" sizeMd="6">
                    <ion-input
                      required
                      class="mb-4"
                      fill="outline"
                      label="Enter name"
                      placeholder="Roof-ACC-Cement House"
                      label-placement="floating"
                    ></ion-input>
                  </ion-col>

                  <ion-col size="12" sizeMd="6">
                    <ion-input
                      required
                      class="mb-4"
                      fill="outline"
                      label="Status"
                      placeholder="Roof-ACC-Cement House"
                      label-placement="floating"
                    ></ion-input>
                  </ion-col>
                </ion-row>
              </ion-grid>
            }
            @case ("hotMaterial") {
              <ion-grid class="m-5 mt-6">
                <ion-row>
                  <ion-col size="12">
                    <ion-select
                      class="mb-4"
                      fill="outline"
                      label="Stored Material"
                      [multiple]="true"
                      label-placement="floating"
                    >
                      <ion-select-option value="apple">Apple</ion-select-option>
                      <ion-select-option value="banana">
                        Banana
                      </ion-select-option>
                      <ion-select-option value="orange">
                        Orange
                      </ion-select-option>
                    </ion-select>
                  </ion-col>
                  <ion-col size="12">
                    <ion-textarea
                      label="Outline textarea"
                      labelPlacement="floating"
                      fill="outline"
                      placeholder="Enter text"
                    ></ion-textarea>
                  </ion-col>
                </ion-row>
              </ion-grid>
            }
            @case ("environment") {
              <ion-grid class="m-5 mt-6">
                <ion-row>
                  <ion-col size="12">
                    <ion-select
                      class="mb-4"
                      fill="outline"
                      label="Stored Material"
                      [multiple]="true"
                      label-placement="floating"
                    >
                      <ion-select-option value="apple">Apple</ion-select-option>
                      <ion-select-option value="banana">
                        Banana
                      </ion-select-option>
                      <ion-select-option value="orange">
                        Orange
                      </ion-select-option>
                    </ion-select>
                  </ion-col>
                  <ion-col size="12">
                    <ion-textarea
                      label="Outline textarea"
                      labelPlacement="floating"
                      fill="outline"
                      placeholder="Enter text"
                    ></ion-textarea>
                  </ion-col>
                </ion-row>
              </ion-grid>
            }
            @case ("materialManagement") {
              <ion-grid class="m-5 mt-6">
                <ion-row>
                  <ion-col size="12">
                    <ion-select
                      class="mb-4"
                      fill="outline"
                      label="Stored Material"
                      [multiple]="true"
                      label-placement="floating"
                    >
                      <ion-select-option value="apple">Apple</ion-select-option>
                      <ion-select-option value="banana">
                        Banana
                      </ion-select-option>
                      <ion-select-option value="orange">
                        Orange
                      </ion-select-option>
                    </ion-select>
                  </ion-col>
                </ion-row>
              </ion-grid>
            }
          }
        </div>

        <!-- category section -->
        <div class="categoryBg w-full overflow-x-scroll">
          <div class="ml-5 mt-4">
            <div class="font-bold text-[14px]">
              <ion-text class="font-gotham_medium" color="primary">
                Select Category* ({{ selectedCategoryCount }})
              </ion-text>
            </div>
          </div>
          <ion-grid class="w-full">
            <ion-row
              scrollX="true"
              class="flex flex-nowrap overflow-x-scroll justify-start"
            >
              @for (category of categories; track $index) {
                <ion-col size="2">
                  <ion-button
                    fill="clear"
                    class="ion-no-padding w-full"
                    (click)="handleCategory(category)"
                  >
                    @switch (true) {
                      @case (category?.categoryType === "sim") {
                        <ion-icon
                          src="../../../../assets/segment-icons/sim.svg"
                          [class.active]="category?.isSelected"
                          class="border-[3px] rounded-[6px] p-2 w-12 h-12"
                        ></ion-icon>
                      }
                      @case (category?.categoryType === "quarry") {
                        <ion-icon
                          [class.active]="category?.isSelected"
                          class="activeicon border-[3px] rounded-[6px] p-2 w-12 h-12"
                          src="../../../../assets/segment-icons/query.svg"
                        ></ion-icon>
                      }
                      @case (category?.categoryType === "electrical") {
                        <ion-icon
                          [class.active]="category?.isSelected"
                          class="activeicon border-[3px] rounded-[6px] p-2 w-12 h-12"
                          src="../../../assets/segment-icons/electrical.svg"
                        ></ion-icon>
                      }
                      @case (category?.categoryType === "hotMaterial") {
                        <ion-icon
                          [class.active]="category?.isSelected"
                          class="border-[3px] rounded-[6px] p-2 w-12 h-12"
                          src="../../../assets/segment-icons/hotMaterial.svg"
                        ></ion-icon>
                      }
                      @case (category?.categoryType === "fireProtection") {
                        <ion-icon
                          [class.active]="category?.isSelected"
                          class="border-[3px] rounded-[6px] p-2 w-12 h-12"
                          src="../../../../assets/segment-icons/fireProtection.svg"
                        ></ion-icon>
                      }
                      @case (category?.categoryType === "environment") {
                        <ion-icon
                          [class.active]="category?.isSelected"
                          class="border-[3px] rounded-[6px] p-2 w-12 h-12"
                          src="../../../../assets/segment-icons/environment.svg"
                        ></ion-icon>
                      }
                      @case (category?.categoryType === "materialManagement") {
                        <ion-icon
                          [class.active]="category?.isSelected"
                          class="border-[3px] rounded-[6px] p-2 w-12 h-12"
                          src="../../../assets/segment-icons/materialManagement.svg"
                        ></ion-icon>
                      }
                    }
                  </ion-button>
                  <ion-text
                    color="dark"
                    style="text-align: center"
                    class="lg:text-[14px] text-[10px]"
                  >
                    <p>
                      {{ category.categoryTitle }}
                    </p>
                  </ion-text>
                </ion-col>
              }
            </ion-row>
          </ion-grid>
        </div>

        <!-- image and location section -->
        <ion-grid fixed>
          <ion-row>
            <ion-col size="6">
              <ion-grid>
                <ion-row>
                  <ion-col size="12">
                    <ion-text
                      class="text-[16px] font-gotham_book"
                      color="black"
                    >
                      Add Picture
                    </ion-text>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>
                    <div class="flex">
                      <div
                        class="h-[66px] w-[66px] rounded-md iconBg justify-center items-center flex"
                      >
                        <ion-icon
                          color="primary"
                          class="h-[44px] w-[44px]"
                          name="camera"
                        ></ion-icon>
                      </div>
                    </div>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>
            <ion-col size="6">
              <ion-grid class="ion-float-right">
                <ion-row>
                  <ion-col size="12" class="ion-text-end">
                    <ion-text class="text-[16px] font-gotham_book">
                      Add Location
                      <span>*</span>
                    </ion-text>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>
                    <div
                      class="flex h-[66px] w-[130px] rounded-md iconBg -ml-[5px] items-center justify-center"
                    >
                      <div>
                        <ion-icon
                          color="primary"
                          size="large"
                          name="location-outline"
                        ></ion-icon>
                      </div>
                      <div>
                        <ion-text
                          color="primary"
                          class="text-[16px] font-gotham_medium"
                        >
                          location
                        </ion-text>
                      </div>
                      <div
                        class="absolute cardIcon -mt-14 right-[-2px] w-[20px] h-[20px] rounded-full flex items-center ion-justify-content-center"
                      >
                        <ion-icon
                          color="white"
                          name="checkmark-sharp"
                        ></ion-icon>
                      </div>
                    </div>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
      <!-- ----------- -->
      <!-- Bottom Part -->
      <div
        class="h-16 w-full px-20 bg-[#007382] flex items-center justify-between"
      >
        <button class="text-white">Cancel</button>
        <button (click)="nextButton()">Save & Next</button>
      </div>
      <!-- ----------- -->
    </div>
  </div>
</div>
