<div
  class="fixed custom bottom-24 left-60 w-[700px] h-[630px] bg-red-500 rounded-md shadow transform transition-transform duration-800 z-50"
  [class]="!isApprovalMenuOpen ? '-translate-x-full' : ''"
>
  <div class="absolute top-20 w-full h-[600px] bg-white"></div>
  <div class="h-full w-full flex">
    <div class="h-full w-full bg-white rounded-tl-[10px]"></div>

    <div class="">
      <svg
        class="-ml-2"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        width="200"
        height="200"
      >
        <image
          width="120"
          height="100"
          xlink:href="data:img/png;base64,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"
        />
      </svg>
    </div>
    <div class="w-auto h-full relative">
      <div
        (click)="menuToggle()"
        class="absolute -ml-[156px] -top-[28px] cursor-pointer w-[56px] h-[56px] bg-black rounded-full flex justify-center items-center"
      >
        <ion-icon class="text-4xl fill-white" name="close"></ion-icon>
      </div>
    </div>
    <div class="-ml-[88px] h-full w-[20px] bg-white rounded-tr-[10px]"></div>
  </div>

  <div class="absolute top-2 bottom-32 w-full">
    <ion-grid>
      <ion-row>
        <ion-col size="12">
          <div class="max-w-full mx-auto p-4 border-b-[2px]">
            <ion-segment
              class="p-2"
              [value]="segment"
              [scrollable]="true"
              (ionChange)="handleChange($event)"
            >
              @if (categories) {
                <ion-segment-button value="info">
                  <div
                    class="segment-change ion-justify-content-center rounded-full"
                  >
                    <ion-icon
                      color="primary"
                      class="p-4 h-[32px] w-[32px] image"
                      src="../../../../../assets/segment-icons/info1.svg"
                    ></ion-icon>
                    <ion-text
                      color="textwhite"
                      class="ion-text-center hidden-content"
                    >
                      Info
                    </ion-text>
                  </div>
                </ion-segment-button>
              }
              @for (assetCategory of categories; track $index) {
                @if (assetCategory?.isSelected) {
                  <ion-segment-button [value]="assetCategory?.categoryType">
                    <div class="backg">
                      <div
                        class="segment-change ion-justify-content-center rounded-full"
                      >
                        @switch (true) {
                          @case (assetCategory?.categoryType === "sim") {
                            <ion-icon
                              class="p-4 h-[32px] w-[32px] image"
                              src="../../../../assets/segment-icons/sim.svg"
                            ></ion-icon>
                          }
                          @case (assetCategory?.categoryType === "quarry") {
                            <ion-icon
                              class="p-4 h-[32px] w-[32px] image"
                              src="../../../../assets/segment-icons/query.svg"
                            ></ion-icon>
                          }
                          @case (assetCategory?.categoryType === "insurance") {
                            <ion-icon
                              class="p-4 h-[32px] w-[32px] image"
                              src="../../../../assets/segment-icons/insurance.svg"
                            ></ion-icon>
                          }
                          @case (assetCategory?.categoryType === "electrical") {
                            <ion-icon
                              class="p-4 h-[32px] w-[32px] image"
                              src="../../../../assets/segment-icons/electrical.svg"
                            ></ion-icon>
                          }
                          @case (
                            assetCategory?.categoryType === "environment"
                          ) {
                            <ion-icon
                              class="p-4 h-[32px] w-[32px] image"
                              src="../../../../assets/segment-icons/environment.svg"
                            ></ion-icon>
                          }
                          @case (
                            assetCategory?.categoryType === "hotMaterial"
                          ) {
                            <ion-icon
                              class="p-4 h-[32px] w-[32px] image"
                              src="../../../../assets/segment-icons/hotMaterial.svg"
                            ></ion-icon>
                          }
                          @case (
                            assetCategory?.categoryType === "fireProtection"
                          ) {
                            <ion-icon
                              class="p-4 h-[32px] w-[32px] image"
                              src="../../../../assets/segment-icons/fireProtection.svg"
                            ></ion-icon>
                          }
                          @case (
                            assetCategory?.categoryType === "materialManagement"
                          ) {
                            <ion-icon
                              class="p-4 h-[32px] w-[32px] image"
                              src="../../../../assets/segment-icons/materialManagement.svg"
                            ></ion-icon>
                          }
                        }
                        <ion-text
                          color="textwhite"
                          class="ion-text-center hidden-content"
                        >
                          {{ assetCategory?.categoryTitle }}
                        </ion-text>
                      </div>
                    </div>
                  </ion-segment-button>
                }
              }
            </ion-segment>
          </div>

          <div class="h-[520px] w-full mx-auto p-4 overflow-y-scroll">
            @switch (segment) {
              @case ("info") {
                <ion-grid>
                  <form [formGroup]="assetRegistrationForm">
                    <ion-row class="my-2">
                      <ion-col size="12" class="mt-2">
                        <ion-input
                          required
                          fill="outline"
                          color="primary"
                          inputmode="text"
                          placeholder="Hopper is situated near the walkway"
                          labelPlacement="floating"
                          formControlName="assetName"
                          errorText="Asset name required"
                        >
                          <ion-label slot="label">
                            Enter name
                            <ion-text color="danger">*</ion-text>
                          </ion-label>
                        </ion-input>
                      </ion-col>

                      <ion-col size="4" class="mt-2">
                        <ion-input
                          required
                          type="text"
                          fill="outline"
                          placeholder="Asset ID"
                          formControlName="assetId"
                          labelPlacement="floating"
                        >
                          <ion-label slot="label">Asset ID</ion-label>
                        </ion-input>
                      </ion-col>

                      <ion-col size="4" class="mt-2">
                        <ion-input
                          type="text"
                          fill="outline"
                          formControlName="sapId"
                          labelPlacement="floating"
                          placeholder="125152"
                        >
                          <ion-label slot="label">SAP ID</ion-label>
                        </ion-input>
                      </ion-col>
                      <ion-col size="4" class="mt-2">
                        <ion-input
                          type="text"
                          fill="outline"
                          formControlName="hacCode"
                          labelPlacement="floating"
                          placeholder="125152"
                        >
                          <ion-label slot="label">HAC code</ion-label>
                        </ion-input>
                      </ion-col>

                      <ion-col size="6" class="mt-4">
                        <ion-select
                          fill="outline"
                          label="Status"
                          label-placement="floating"
                          formControlName="assetStatus"
                          interface="popover"
                        >
                          <ion-select-option value="Mothballed">
                            Mothballed
                          </ion-select-option>
                          <ion-select-option value="Operational">
                            Operational
                          </ion-select-option>
                          <ion-select-option value="Demolished">
                            Demolished
                          </ion-select-option>
                          <ion-select-option value="Decommissioned">
                            Decommissioned
                          </ion-select-option>
                        </ion-select>
                      </ion-col>
                      <ion-col size="6" class="mt-4">
                        <ion-select
                          fill="outline"
                          label="Cost Center"
                          label-placement="floating"
                          formControlName="assetCostCenter"
                          interface="popover"
                        >
                          <ion-select-option value="Raw Material Extraction">
                            Raw Material Extraction
                          </ion-select-option>
                          <ion-select-option value="readymix">
                            readymix
                          </ion-select-option>
                          <ion-select-option value="Demolished">
                            Demolished
                          </ion-select-option>
                          <ion-select-option value="Decommissioned">
                            Decommissioned
                          </ion-select-option>
                        </ion-select>
                      </ion-col>
                    </ion-row>
                  </form>
                  <div
                    class="categoryBg w-[700px] -ml-[33px] p-4 overflow-x-scroll"
                  >
                    <div class="ml-7">
                      <div class="font-bold text-[14px]">
                        <ion-text class="font-gotham_medium" color="primary">
                          Select Category* ({{ selectedCategoryCount }})
                        </ion-text>
                      </div>
                    </div>
                    <ion-grid class="w-full ion-no-padding">
                      <ion-row
                        class="w-full ion-no-padding"
                        scrollX="true"
                        class="scrollrow md:mx-4 my-2 ion-justify-content-between"
                      >
                        @for (category of categories; track $index) {
                          <ion-col size="2">
                            <ion-button
                              fill="clear"
                              class="ion-no-padding w-full"
                              (click)="handleCategory(category)"
                            >
                              @switch (true) {
                                @case (category?.categoryType === "sim") {
                                  <ion-icon
                                    src="../../../../assets/segment-icons/sim.svg"
                                    [class.active]="category?.isSelected"
                                    class="border-[3px] rounded-[6px] p-2 w-12 h-12"
                                  ></ion-icon>
                                }
                                @case (category?.categoryType === "quarry") {
                                  <ion-icon
                                    [class.active]="category?.isSelected"
                                    class="activeicon border-[3px] rounded-[6px] p-2 w-12 h-12"
                                    src="../../../../assets/segment-icons/query.svg"
                                  ></ion-icon>
                                }
                                @case (
                                  category?.categoryType === "electrical"
                                ) {
                                  <ion-icon
                                    [class.active]="category?.isSelected"
                                    class="activeicon border-[3px] rounded-[6px] p-2 w-12 h-12"
                                    src="../../../assets/segment-icons/electrical.svg"
                                  ></ion-icon>
                                }
                                @case (
                                  category?.categoryType === "hotMaterial"
                                ) {
                                  <ion-icon
                                    [class.active]="category?.isSelected"
                                    class="border-[3px] rounded-[6px] p-2 w-12 h-12"
                                    src="../../../assets/segment-icons/hotMaterial.svg"
                                  ></ion-icon>
                                }
                                @case (
                                  category?.categoryType === "fireProtection"
                                ) {
                                  <ion-icon
                                    [class.active]="category?.isSelected"
                                    class="border-[3px] rounded-[6px] p-2 w-12 h-12"
                                    src="../../../../assets/segment-icons/fireProtection.svg"
                                  ></ion-icon>
                                }
                                @case (
                                  category?.categoryType === "environment"
                                ) {
                                  <ion-icon
                                    [class.active]="category?.isSelected"
                                    class="border-[3px] rounded-[6px] p-2 w-12 h-12"
                                    src="../../../../assets/segment-icons/environment.svg"
                                  ></ion-icon>
                                }
                                @case (
                                  category?.categoryType ===
                                  "materialManagement"
                                ) {
                                  <ion-icon
                                    [class.active]="category?.isSelected"
                                    class="border-[3px] rounded-[6px] p-2 w-12 h-12"
                                    src="../../../assets/segment-icons/materialManagement.svg"
                                  ></ion-icon>
                                }
                              }
                            </ion-button>
                            <ion-text
                              color="dark"
                              style="text-align: center"
                              class="lg:text-[14px] text-[10px]"
                            >
                              <p>
                                {{ category.categoryTitle }}
                              </p>
                            </ion-text>
                          </ion-col>
                        }
                      </ion-row>
                    </ion-grid>
                  </div>
                  <ion-row>
                    <ion-col size="6">
                      <ion-grid>
                        <ion-row>
                          <ion-col size="12">
                            <ion-text
                              class="text-[16px] font-gotham_book"
                              color="black"
                            >
                              Add Picture
                            </ion-text>
                          </ion-col>
                        </ion-row>
                        <ion-row>
                          <ion-col>
                            <div class="flex">
                              <div
                                class="h-[66px] w-[66px] rounded-md iconBg justify-center items-center flex"
                              >
                                <ion-icon
                                  color="primary"
                                  class="h-[44px] w-[44px]"
                                  name="camera"
                                ></ion-icon>
                              </div>
                            </div>
                          </ion-col>
                        </ion-row>
                      </ion-grid>
                    </ion-col>
                    <ion-col size="6">
                      <ion-grid class="ion-float-right">
                        <ion-row>
                          <ion-col size="12" class="ion-text-end">
                            <ion-text class="text-[16px] font-gotham_book">
                              Add Location
                              <span>*</span>
                            </ion-text>
                          </ion-col>
                        </ion-row>
                        <ion-row>
                          <ion-col>
                            <div
                              class="flex h-[66px] w-[130px] rounded-md iconBg -ml-[5px] items-center justify-center"
                            >
                              <div>
                                <ion-icon
                                  color="primary"
                                  size="large"
                                  name="location-outline"
                                ></ion-icon>
                              </div>
                              <div>
                                <ion-text
                                  color="primary"
                                  class="text-[16px] font-gotham_medium"
                                >
                                  location
                                </ion-text>
                              </div>
                              <div
                                class="absolute cardIcon -mt-14 right-[-2px] w-[20px] h-[20px] rounded-full flex items-center ion-justify-content-center"
                              >
                                <ion-icon
                                  color="white"
                                  name="checkmark-sharp"
                                ></ion-icon>
                              </div>
                            </div>
                          </ion-col>
                        </ion-row>
                      </ion-grid>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              }
              @case ("sim") {
                <ion-grid>
                  <ion-row>
                    <ion-col size="12" sizeMd="6">
                      <ion-input
                        required
                        class="mb-4"
                        fill="outline"
                        label="Enter name"
                        placeholder="Roof-ACC-Cement House"
                        label-placement="floating"
                      ></ion-input>
                    </ion-col>

                    <ion-col size="12" sizeMd="6">
                      <ion-input
                        required
                        class="mb-4"
                        fill="outline"
                        label="Status"
                        placeholder="Roof-ACC-Cement House"
                        label-placement="floating"
                      ></ion-input>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              }
              @case ("hotMaterial") {
                <ion-grid class="m-5 mt-6">
                  <ion-row>
                    <ion-col size="12">
                      <ion-select
                        class="mb-4"
                        fill="outline"
                        label="Stored Material"
                        [multiple]="true"
                        label-placement="floating"
                      >
                        <ion-select-option value="apple">
                          Apple
                        </ion-select-option>
                        <ion-select-option value="banana">
                          Banana
                        </ion-select-option>
                        <ion-select-option value="orange">
                          Orange
                        </ion-select-option>
                      </ion-select>
                    </ion-col>
                    <ion-col size="12">
                      <ion-textarea
                        label="Outline textarea"
                        labelPlacement="floating"
                        fill="outline"
                        placeholder="Enter text"
                      ></ion-textarea>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              }
              @case ("environment") {
                <ion-grid class="m-5 mt-6">
                  <ion-row>
                    <ion-col size="12">
                      <ion-select
                        class="mb-4"
                        fill="outline"
                        label="Stored Material"
                        [multiple]="true"
                        label-placement="floating"
                      >
                        <ion-select-option value="apple">
                          Apple
                        </ion-select-option>
                        <ion-select-option value="banana">
                          Banana
                        </ion-select-option>
                        <ion-select-option value="orange">
                          Orange
                        </ion-select-option>
                      </ion-select>
                    </ion-col>
                    <ion-col size="12">
                      <ion-textarea
                        label="Outline textarea"
                        labelPlacement="floating"
                        fill="outline"
                        placeholder="Enter text"
                      ></ion-textarea>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              }
              @case ("materialManagement") {
                <ion-grid class="m-5 mt-6">
                  <ion-row>
                    <ion-col size="12">
                      <ion-select
                        class="mb-4"
                        fill="outline"
                        label="Stored Material"
                        [multiple]="true"
                        label-placement="floating"
                      >
                        <ion-select-option value="apple">
                          Apple
                        </ion-select-option>
                        <ion-select-option value="banana">
                          Banana
                        </ion-select-option>
                        <ion-select-option value="orange">
                          Orange
                        </ion-select-option>
                      </ion-select>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              }
            }
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <ion-footer class="fixed bottom-[-56px] w-full ion-no-padding">
    @if (isReject) {
      <div class="w-full h-44 p-2 rejectCard">
        <ion-grid>
          <ion-row>
            <ion-col size="12">
              <ion-text class="font-gotham_medium text-[16px]" color="danger">
                Reason for decommission
              </ion-text>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <div class="RejectSelect">
                <ion-select
                  fill="outline"
                  color="danger"
                  label-placement="floating"
                  interface="popover"
                >
                  <ion-label color="danger" slot="label">
                    Asset markup is no longer on the map
                  </ion-label>

                  <ion-select-option value="apple">
                    asset approved
                  </ion-select-option>
                  <ion-select-option value="banana">
                    asset draft
                  </ion-select-option>
                  <ion-select-option value="orange">
                    asset decomision
                  </ion-select-option>
                </ion-select>
              </div>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <div class="flex gap-3">
                <div>
                  <button
                    class="inline-flex items-center bgRejectBtn justify-center w-28 h-10 rounded-full"
                  >
                    <ion-text color="danger">Reject</ion-text>
                  </button>
                </div>
                <div>
                  <button
                    class="inline-flex items-center bgacceptBtn justify-center w-28 h-10 rounded-full"
                  >
                    <ion-text color="textwhite">Accept</ion-text>
                  </button>
                </div>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    } @else {
      <ion-toolbar color="secondary">
        <ion-buttons slot="start" class="w-full">
          <ion-button
            expand="full"
            color="textwhite"
            class="w-full text-[16px] font-gotham_book"
            (click)="reject()"
          >
            Reject
          </ion-button>
          <ion-button
            expand="full"
            color="textwhite"
            class="w-full text-[16px] font-gotham_book"
          >
            Approve
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    }
  </ion-footer>
</div>
